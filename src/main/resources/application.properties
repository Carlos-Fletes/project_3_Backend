# === Application Info ===
spring.application.name=rest-service

# === Server Config  ===
server.port=${PORT:8080}

# === Datasource Configuration ===
spring.datasource.url=${JDBC_DATABASE_URL:jdbc:postgresql://${SUPABASE_DB_HOST}:${SUPABASE_DB_PORT}/${SUPABASE_DB_NAME}?sslmode=require}
spring.datasource.username=${JDBC_DATABASE_USERNAME:${SPRING_DATASOURCE_USERNAME:${SUPABASE_DB_USERNAME}}}
spring.datasource.password=${JDBC_DATABASE_PASSWORD:${SPRING_DATASOURCE_PASSWORD:${SUPABASE_DB_PASSWORD}}}

# === Supabase Keys (these are passed as environment variables on Heroku) ===
supabase.url=${SUPABASE_URL}
supabase.key=${SUPABASE_KEY}
supabase.service-role-key=${SUPABASE_SERVICE_ROLE_KEY}

# === JSON Serialization Settings ===
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.deserialization.fail-on-unknown-properties=false

# === Hibernate / JPA Settings ===
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=false
